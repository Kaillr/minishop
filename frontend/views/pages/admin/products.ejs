<!DOCTYPE html>
<html lang="en">

<head>
    <%- include("../../partials/head") %>
    <link rel="stylesheet" href="/css/settings.css">
</head>

<body>
    <%- include("../../partials/header") %>

    <main>
        <%- include("../../partials/profile-left-sidebar") %>
        <div id="content">
            <h2>Admin</h2>

            <h3>Add Products</h3>
            <form id="addProductForm" action="/admin/products" method="POST" enctype="multipart/form-data">
                <label for="brand">Brand:</label>
                <input type="text" id="brand" name="brand" required><br><br>

                <label for="name">Name:</label>
                <input type="text" id="name" name="name" required><br><br>

                <label for="description">Description:</label>
                <textarea id="description" name="description"></textarea><br><br>

                <label for="price">Price:</label>
                <input type="number" id="price" name="price" step="0.01" required><br><br>

                <label for="image">Image:</label>
                <input type="file" id="image" name="image" accept="image/*, .avif" required><br><br>

                <button type="submit">Add Product</button>
            </form><br>

            <h3>Products Table</h3>

            <input type="text" id="filterInput" placeholder="Filter by keyword">
            <table id="productsTable">
                <thead>
                    <tr style="text-align: left;">
                        <th>ID</th>
                        <th>Brand</th>
                        <th>Name</th>
                        <th>Price</th>
                        <th>Actions</th>
                    </tr>
                </thead>
                <tbody>
                    <% products.forEach(product => { %>
                    <tr>
                        <td><%= product.product_id %></td>
                        <td><%= product.brand %></td>
                        <td><%= product.product_name %></td>
                        <td><%= product.price %></td>
                        <td>
                            <button data-id="<%= product.product_id %>" id="edit-product-button">Edit</button>
                            <button data-id="<%= product.product_id %>" id="delete-product-button">Delete</button>
                        </td>
                    </tr>
                    <% }) %>
                </tbody>
            </table>
        </div>
    </main>



    <%- include("../../partials/footer") %>
    <script src="/js/manageProducts.js"></script>
</body>

</html>